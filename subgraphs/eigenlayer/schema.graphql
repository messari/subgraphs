# Subgraph Schema: Non-Standard
# Version: 1.0.0
# (Based on Subgraph Schema: Generic - Version: 2.1.1)
# See https://github.com/messari/subgraphs/blob/master/docs/SCHEMA.md for details

enum Network {
  ARBITRUM_ONE
  ARWEAVE_MAINNET
  AURORA
  AVALANCHE
  BASE
  BOBA
  BSC # aka BNB Chain
  CELO
  COSMOS
  CRONOS
  MAINNET # Ethereum Mainnet
  FANTOM
  FUSE
  HARMONY
  JUNO
  MOONBEAM
  MOONRIVER
  NEAR_MAINNET
  OPTIMISM
  OSMOSIS
  MATIC # aka Polygon
  GNOSIS
}

enum ProtocolType {
  EXCHANGE
  LENDING
  YIELD
  BRIDGE
  GENERIC
  SOCIAL
  # Will add more
}

enum PoolType {
  EIGEN_POD
  STRATEGY
}

type Token @entity @regularPolling {
  " Smart contract address of the token "
  id: Bytes!

  " Name of the token, mirrored from the smart contract "
  name: String!

  " Symbol of the token, mirrored from the smart contract "
  symbol: String!

  " The number of decimal places this token uses, default to 18 "
  decimals: Int!

  " Optional field to track the price of a token, mostly for caching purposes "
  lastPriceUSD: BigDecimal

  " Optional field to track the block number of the last token price "
  lastPriceBlockNumber: BigInt
}

enum RewardTokenType {
  " For reward tokens awarded to LPs/lenders "
  DEPOSIT

  " For reward tokens awarded to borrowers "
  BORROW
}

type RewardToken @entity @regularPolling {
  " { Reward token type }-{ Smart contract address of the reward token } "
  id: Bytes!

  " Reference to the actual token "
  token: Token!

  " The type of the reward token "
  type: RewardTokenType!
}

#############################
##### Protocol Metadata #####
#############################

type Protocol @entity @regularPolling {
  " Smart contract address of the protocol's main contract (Factory, Registry, etc) "
  id: Bytes!

  " Name of the protocol, including version. e.g. Uniswap v3 "
  name: String!

  " Slug of protocol, including version. e.g. uniswap-v3 "
  slug: String!

  " Version of the subgraph schema, in SemVer format (e.g. 1.0.0) "
  schemaVersion: String!

  " Version of the subgraph implementation, in SemVer format (e.g. 1.0.0) "
  subgraphVersion: String!

  " Version of the methodology used to compute metrics, loosely based on SemVer format (e.g. 1.0.0) "
  methodologyVersion: String!

  " The blockchain network this subgraph is indexing on "
  network: Network!

  " The type of protocol (e.g. DEX, Lending, Yield, etc) "
  type: ProtocolType!

  ##### Quantitative Data #####

  " Current TVL (Total Value Locked) of the entire protocol "
  totalValueLockedUSD: BigDecimal!

  " Current PCV (Protocol Controlled Value). Only relevant for protocols with PCV. "
  protocolControlledValueUSD: BigDecimal

  " Revenue claimed by suppliers to the protocol. LPs on DEXs (e.g. 0.25% of the swap fee in Sushiswap). Depositors on Lending Protocols. NFT sellers on OpenSea. "
  cumulativeSupplySideRevenueUSD: BigDecimal!

  " Gross revenue for the protocol (revenue claimed by protocol). Examples: AMM protocol fee (Sushi’s 0.05%). OpenSea 10% sell fee. "
  cumulativeProtocolSideRevenueUSD: BigDecimal!

  " All revenue generated by the protocol. e.g. 0.30% of swap fee in Sushiswap, all yield generated by Yearn. "
  cumulativeTotalRevenueUSD: BigDecimal!

  " Cumulative value of staked eth deposited "
  cumulativeDepositVolumeUSD: BigDecimal!

  " Cumulative value of restaked eth withdrawn "
  cumulativeWithdrawalVolumeUSD: BigDecimal!

  " Volume deposited plus volume withdrawn "
  cumulativeTotalVolumeUSD: BigDecimal!

  " Volume deposited minus volume withdrawn "
  netVolumeUSD: BigDecimal!

  ##### Usage Data #####

  " Number of cumulative unique addresses that deposited staked eth "
  cumulativeUniqueDepositors: Int!

  " Number of cumulative unique addresses that withdrew restaked eth "
  cumulativeUniqueWithdrawers: Int!

  " Number of cumulative unique addresses "
  cumulativeUniqueUsers: Int!

  " Total number of deposits "
  cumulativeDepositCount: Int!

  " Total number of withdrawals "
  cumulativeWithdrawalCount: Int!

  " Total number of transactions "
  cumulativeTransactionCount: Int!

  ##### Pools #####

  " Total number of EigenPods "
  totalEigenPodCount: Int!

  " Total number of Strategies "
  totalStrategyCount: Int!

  " Total number of (EigenPods plus Strategies) "
  totalPoolCount: Int!

  " All pools that belong to this protocol "
  pools: [Pool!]! @derivedFrom(field: "protocol")

  ##### Snapshots #####

  " Daily usage metrics for this protocol "
  dailyUsageMetrics: [UsageMetricsDailySnapshot!]!
    @derivedFrom(field: "protocol")

  " Hourly usage metrics for this protocol "
  hourlyUsageMetrics: [UsageMetricsHourlySnapshot!]!
    @derivedFrom(field: "protocol")

  " Daily financial metrics for this protocol "
  financialMetrics: [FinancialsDailySnapshot!]! @derivedFrom(field: "protocol")
}

###############################
##### Protocol Timeseries #####
###############################

type UsageMetricsDailySnapshot @entity @dailySnapshot {
  " ID is # of days since Unix epoch time "
  id: Bytes!

  " Number of days since Unix epoch time "
  day: Int!

  " Protocol this snapshot is associated with "
  protocol: Protocol!

  " Number of daily unique addresses that deposited staked eth "
  dailyActiveDepositors: Int!

  " Number of cumulative unique addresses that deposited staked eth "
  cumulativeUniqueDepositors: Int!

  " Number of daily unique addresses that withdrew restaked eth "
  dailyActiveWithdrawers: Int!

  " Number of cumulative unique addresses that withdrew restaked eth "
  cumulativeUniqueWithdrawers: Int!

  " Number of daily unique addresses "
  dailyActiveUsers: Int!

  " Number of cumulative unique addresses "
  cumulativeUniqueUsers: Int!

  " Number of daily deposits "
  dailyDepositCount: Int!

  " Total number of deposits "
  cumulativeDepositCount: Int!

  " Number of daily withdrawals "
  dailyWithdrawalCount: Int!

  " Total number of withdrawals "
  cumulativeWithdrawalCount: Int!

  " Number of daily transactions "
  dailyTransactionCount: Int!

  " Total number of transactions "
  cumulativeTransactionCount: Int!

  " Total number of pools "
  totalPoolCount: Int!

  " Timestamp of when this snapshot was taken/last modified (May be taken after interval has passed) "
  timestamp: BigInt!

  " Block number of when this snapshot was taken/last modified (May be taken after interval has passed) "
  blockNumber: BigInt!
}

type UsageMetricsHourlySnapshot @entity @hourlySnapshot {
  " { # of hours since Unix epoch time } "
  id: Bytes!

  " Number of hours since Unix epoch time "
  hour: Int!

  " Protocol this snapshot is associated with "
  protocol: Protocol!

  " Number of unique hourly active users "
  hourlyActiveUsers: Int!

  " Number of cumulative unique users "
  cumulativeUniqueUsers: Int!

  " Total number of transactions occurred in an hour. Transactions include all entities that implement the Event interface. "
  hourlyTransactionCount: Int!

  " Total number of transactions. Transactions include events triggered by outside users (ie, deposit, withdraw, etc.)"
  cumulativeTransactionCount: Int!

  " Timestamp of when this snapshot was taken/last modified (May be taken after interval has passed) "
  timestamp: BigInt!

  " Block number of when this snapshot was taken/last modified (May be taken after interval has passed) "
  blockNumber: BigInt!
}

type FinancialsDailySnapshot @entity @dailySnapshot {
  " ID is # of days since Unix epoch time "
  id: Bytes!

  " Number of days since Unix epoch time "
  day: Int!

  " Protocol this snapshot is associated with "
  protocol: Protocol!

  " Current TVL (Total Value Locked) of the entire protocol "
  totalValueLockedUSD: BigDecimal!

  " Current PCV (Protocol Controlled Value). Only relevant for protocols with PCV. "
  protocolControlledValueUSD: BigDecimal

  " Revenue claimed by suppliers to the protocol. LPs on DEXs (e.g. 0.25% of the swap fee in Sushiswap). Depositors on Lending Protocols. NFT sellers on OpenSea. "
  dailySupplySideRevenueUSD: BigDecimal!

  " Revenue claimed by suppliers to the protocol. LPs on DEXs (e.g. 0.25% of the swap fee in Sushiswap). Depositors on Lending Protocols. NFT sellers on OpenSea. "
  cumulativeSupplySideRevenueUSD: BigDecimal!

  " Gross revenue for the protocol (revenue claimed by protocol). Examples: AMM protocol fee (Sushi’s 0.05%). OpenSea 10% sell fee. "
  dailyProtocolSideRevenueUSD: BigDecimal!

  " Gross revenue for the protocol (revenue claimed by protocol). Examples: AMM protocol fee (Sushi’s 0.05%). OpenSea 10% sell fee. "
  cumulativeProtocolSideRevenueUSD: BigDecimal!

  " All revenue generated by the protocol. e.g. 0.30% of swap fee in Sushiswap, all yield generated by Yearn. "
  dailyTotalRevenueUSD: BigDecimal!

  " All revenue generated by the protocol. e.g. 0.30% of swap fee in Sushiswap, all yield generated by Yearn. "
  cumulativeTotalRevenueUSD: BigDecimal!

  " Daily value of staked eth deposited "
  dailyDepositVolumeUSD: BigDecimal!

  " Cumulative value of staked eth deposited "
  cumulativeDepositVolumeUSD: BigDecimal!

  " Daily value of restaked eth withdrawn "
  dailyWithdrawalVolumeUSD: BigDecimal!

  " Cumulative value of restaked eth withdrawn "
  cumulativeWithdrawalVolumeUSD: BigDecimal!

  " Daily volume deposited minus daily volume withdrawn "
  dailyTotalVolumeUSD: BigDecimal!

  " Volume deposited plus volume withdrawn "
  cumulativeTotalVolumeUSD: BigDecimal!

  " Daily volume deposited minus daily volume withdrawn "
  dailyNetVolumeUSD: BigDecimal!

  " Volume deposited minus volume withdrawn "
  netVolumeUSD: BigDecimal!

  " Timestamp of when this snapshot was taken/last modified (May be taken after interval has passed) "
  timestamp: BigInt!

  " Block number of when this snapshot was taken/last modified (May be taken after interval has passed) "
  blockNumber: BigInt!
}

###########################
##### Pool-Level Data #####
###########################

type Pool @entity @regularPolling {
  " Smart contract address of the pool "
  id: Bytes!

  " The protocol this pool belongs to "
  protocol: Protocol!

  " Name of the pool  "
  name: String

  " Symbol of liquidity pool "
  symbol: String

  " Type of pool (EIGENPOD / STRATEGY)"
  type: PoolType!

  " Tokens that need to be deposited to take a position in protocol. e.g. WETH and USDC to deposit into the WETH-USDC pool. Array to account for multi-asset pools like Curve and Balancer "
  inputTokens: [Token!]!

  " Token that is minted to track ownership of position in protocol "
  outputToken: Token

  " Aditional tokens that are given as reward for position in a protocol, usually in liquidity mining programs. e.g. SUSHI in the Onsen program, MATIC for Aave Polygon, usually in liquidity mining programs. e.g. SUSHI in the Onsen program, MATIC for Aave Polygon "
  rewardTokens: [RewardToken!]

  " Is the pool active "
  active: Boolean!

  " Creation timestamp "
  createdTimestamp: BigInt!

  " Creation block number "
  createdBlockNumber: BigInt!

  ##### Quantitative Data #####

  " Current TVL (Total Value Locked) of the pool "
  totalValueLockedUSD: BigDecimal!

  " All revenue generated by the pool, accrued to the supply side. "
  cumulativeSupplySideRevenueUSD: BigDecimal!

  " All revenue generated by the pool, accrued to the protocol. "
  cumulativeProtocolSideRevenueUSD: BigDecimal!

  " All revenue generated by the pool. "
  cumulativeTotalRevenueUSD: BigDecimal!

  " Amount & Value of input tokens in the pool. The ordering should be the same as the pool's inputTokens field. "
  inputTokenBalances: [BigInt!]!
  inputTokenBalancesUSD: [BigDecimal!]!

  " Total supply of output token. Note that certain DEXes don't have an output token (e.g. Bancor) "
  outputTokenSupply: BigInt

  " Price per share of output token in USD "
  outputTokenPriceUSD: BigDecimal

  " Total supply of output tokens that are staked (usually in the MasterChef contract). Used to calculate reward APY. "
  stakedOutputTokenAmount: BigInt

  " Per-block reward token emission as of the current block normalized to a day. This should be ideally calculated as the theoretical rate instead of the realized amount. "
  rewardTokenEmissionsAmount: [BigInt!]
  rewardTokenEmissionsUSD: [BigDecimal!]

  " Cumulative value of staked eth deposited "
  cumulativeDepositVolumeAmount: BigInt!
  cumulativeDepositVolumeUSD: BigDecimal!

  " Cumulative value of restaked eth withdrawn "
  cumulativeWithdrawalVolumeAmount: BigInt!
  cumulativeWithdrawalVolumeUSD: BigDecimal!

  " Volume deposited plus volume withdrawn "
  cumulativeTotalVolumeAmount: BigInt!
  cumulativeTotalVolumeUSD: BigDecimal!

  " Volume deposited minus volume withdrawn "
  netVolumeAmount: BigInt!
  netVolumeUSD: BigDecimal!

  ##### Usage Data #####

  " Number of cumulative unique addresses that deposited staked eth "
  cumulativeUniqueDepositors: Int!

  " Number of cumulative unique addresses that withdrew restaked eth "
  cumulativeUniqueWithdrawers: Int!

  " Total number of deposits "
  cumulativeDepositCount: Int!

  " Total number of withdrawals "
  cumulativeWithdrawalCount: Int!

  " Total number of transactions "
  cumulativeTransactionCount: Int!

  ##### Users #####

  " All depositors that have restaked in this pool "
  depositors: [Account!]! @derivedFrom(field: "pools")

  ##### Snapshots #####

  " Pool daily snapshots "
  dailySnapshots: [PoolDailySnapshot!]! @derivedFrom(field: "pool")

  " Pool hourly snapshots "
  hourlySnapshots: [PoolHourlySnapshot!]! @derivedFrom(field: "pool")
}

###############################
####### Pool Timeseries #######
###############################

type PoolDailySnapshot @entity @dailySnapshot {
  " { Smart contract address of the pool }-{ ID is # of days since Unix epoch time } "
  id: Bytes!

  " Number of days since Unix epoch time "
  day: Int!

  " The pool this snapshot belongs to "
  pool: Pool!

  " The protocol this snapshot belongs to "
  protocol: Protocol!

  ##### Quantitative Data #####

  " Current TVL (Total Value Locked) of the pool "
  totalValueLockedUSD: BigDecimal!

  " All revenue generated by the pool, accrued to the supply side. "
  cumulativeSupplySideRevenueUSD: BigDecimal!

  " Daily revenue generated by the pool, accrued to the supply side. "
  dailySupplySideRevenueUSD: BigDecimal!

  " All revenue generated by the pool, accrued to the protocol. "
  cumulativeProtocolSideRevenueUSD: BigDecimal!

  " Daily revenue generated by the pool, accrued to the protocol. "
  dailyProtocolSideRevenueUSD: BigDecimal!

  " All revenue generated by the pool. "
  cumulativeTotalRevenueUSD: BigDecimal!

  " Daily revenue generated by the pool. "
  dailyTotalRevenueUSD: BigDecimal!

  " Amount & Value of input tokens in the pool. The ordering should be the same as the pool's `inputTokens` field. "
  inputTokenBalances: [BigInt!]!
  inputTokenBalancesUSD: [BigDecimal!]!

  " Total supply of output token. Note that certain DEXes don't have an output token (e.g. Bancor) "
  outputTokenSupply: BigInt

  " Price per share of output token in USD "
  outputTokenPriceUSD: BigDecimal

  " Total supply of output tokens that are staked (usually in the MasterChef contract). Used to calculate reward APY. "
  stakedOutputTokenAmount: BigInt

  " Per-block reward token emission as of the current block normalized to a day. This should be ideally calculated as the theoretical rate instead of the realized amount. "
  rewardTokenEmissionsAmount: [BigInt!]
  rewardTokenEmissionsUSD: [BigDecimal!]

  " Daily value of staked eth deposited "
  dailyDepositVolumeAmount: BigInt!
  dailyDepositVolumeUSD: BigDecimal!

  " Cumulative value of staked eth deposited "
  cumulativeDepositVolumeAmount: BigInt!
  cumulativeDepositVolumeUSD: BigDecimal!

  " Daily value of restaked eth withdrawn "
  dailyWithdrawalVolumeAmount: BigInt!
  dailyWithdrawalVolumeUSD: BigDecimal!

  " Cumulative value of restaked eth withdrawn "
  cumulativeWithdrawalVolumeAmount: BigInt!
  cumulativeWithdrawalVolumeUSD: BigDecimal!

  " Daily volume deposited minus daily volume withdrawn "
  dailyTotalVolumeAmount: BigInt!
  dailyTotalVolumeUSD: BigDecimal!

  " Volume deposited plus volume withdrawn "
  cumulativeTotalVolumeAmount: BigInt!
  cumulativeTotalVolumeUSD: BigDecimal!

  " Daily volume deposited minus daily volume withdrawn "
  dailyNetVolumeAmount: BigInt!
  dailyNetVolumeUSD: BigDecimal!

  " Volume deposited minus volume withdrawn "
  netVolumeAmount: BigInt!
  netVolumeUSD: BigDecimal!

  ##### Usage Data #####

  " Number of cumulative unique addresses that deposited staked eth "
  cumulativeUniqueDepositors: Int!

  " Number of cumulative unique addresses that withdrew restaked eth "
  cumulativeUniqueWithdrawers: Int!

  " Number of daily deposits "
  dailyDepositCount: Int!

  " Total number of deposits "
  cumulativeDepositCount: Int!

  " Number of daily withdrawals "
  dailyWithdrawalCount: Int!

  " Total number of withdrawals "
  cumulativeWithdrawalCount: Int!

  " Number of daily transactions "
  dailyTransactionCount: Int!

  " Total number of transactions "
  cumulativeTransactionCount: Int!

  " Timestamp of when this snapshot was taken/last modified (May be taken after interval has passed) "
  timestamp: BigInt!

  " Block number of when this snapshot was taken/last modified (May be taken after interval has passed) "
  blockNumber: BigInt!
}

type PoolHourlySnapshot @entity @hourlySnapshot {
  " { Smart contract address of the pool }-{ ID is # of hours since Unix epoch time } "
  id: Bytes!

  " Number of hours since Unix epoch time "
  hour: Int!

  " The pool this snapshot belongs to "
  pool: Pool!

  " The protocol this snapshot belongs to "
  protocol: Protocol!

  ##### Quantitative Data #####

  " Current TVL (Total Value Locked) of this pool "
  totalValueLockedUSD: BigDecimal!

  " All revenue generated by the pool, accrued to the supply side. "
  cumulativeSupplySideRevenueUSD: BigDecimal!

  " Hourly revenue generated by the pool, accrued to the supply side. "
  hourlySupplySideRevenueUSD: BigDecimal!

  " All revenue generated by the pool, accrued to the protocol. "
  cumulativeProtocolSideRevenueUSD: BigDecimal!

  " Hourly revenue generated by the pool, accrued to the protocol. "
  hourlyProtocolSideRevenueUSD: BigDecimal!

  " All revenue generated by the pool. "
  cumulativeTotalRevenueUSD: BigDecimal!

  " Hourly revenue generated by the pool. "
  hourlyTotalRevenueUSD: BigDecimal!

  " Amount & Value of input tokens in the pool. The ordering should be the same as the pool's `inputTokens` field. "
  inputTokenBalances: [BigInt!]!
  inputTokenBalancesUSD: [BigDecimal!]!

  " Total supply of output token. Note that certain DEXes don't have an output token (e.g. Bancor) "
  outputTokenSupply: BigInt

  " Price per share of output token in USD "
  outputTokenPriceUSD: BigDecimal

  " Total supply of output tokens that are staked (usually in the MasterChef contract). Used to calculate reward APY. "
  stakedOutputTokenAmount: BigInt

  " Per-block reward token emission as of the current block normalized to a day (not hour). This should be ideally calculated as the theoretical rate instead of the realized amount. "
  rewardTokenEmissionsAmount: [BigInt!]
  rewardTokenEmissionsUSD: [BigDecimal!]

  " Timestamp of when this snapshot was taken/last modified (May be taken after interval has passed) "
  timestamp: BigInt!

  " Block number of when this snapshot was taken/last modified (May be taken after interval has passed) "
  blockNumber: BigInt!
}

##################################
##### Transaction-Level Data #####
##################################

interface Event {
  " event.transaction.hash.concatI32(event.logIndex) "
  id: Bytes!

  " Transaction hash of the transaction that emitted this event "
  hash: Bytes!

  " Event log index. For transactions that don't emit event, create arbitrary index starting from 0 "
  logIndex: Int!

  " The protocol this transaction belongs to "
  protocol: Protocol!

  " Address that received the tokens "
  to: Bytes!

  " Address that sent the tokens "
  from: Bytes!

  " Block number of this event "
  blockNumber: BigInt!

  " Timestamp of this event "
  timestamp: BigInt!
}

type Deposit implements Event @entity(immutable: true) @transaction {
  " event.transaction.hash.concatI32(event.logIndex) "
  id: Bytes!

  " Transaction hash of the transaction that emitted this event "
  hash: Bytes!

  " Event log index. For transactions that don't emit event, create arbitrary index starting from 0 "
  logIndex: Int!

  " The protocol this transaction belongs to "
  protocol: Protocol!

  " Address that received the tokens "
  to: Bytes!

  " Address that sent the tokens "
  from: Bytes!

  " Address of depositor "
  depositor: Bytes!

  " Pool that been deposited to "
  pool: Pool!

  " Pool token "
  token: Token!

  " Shares of pool granted to depositor "
  shares: BigInt!

  " Amount of tokens withdrawn "
  amount: BigInt!

  " Amount withdrawn in USD "
  amountUSD: BigDecimal!

  " Block number of this event "
  blockNumber: BigInt!

  " Timestamp of this event "
  timestamp: BigInt!
}

type Withdraw implements Event @entity @transaction {
  " event.transaction.hash.concatI32(event.logIndex) "
  id: Bytes!

  " Transaction hash of the transaction that queued the withdrawal "
  hash: Bytes!

  " Event log index. For transactions that don't emit event, create arbitrary index starting from 0 "
  logIndex: Int!

  " The protocol this transaction belongs to "
  protocol: Protocol!

  " Address that received the tokens "
  to: Bytes!

  " Address that sent the tokens "
  from: Bytes!

  " Address of depositor "
  depositor: Bytes!

  " Address set by depositor to receive withdrawn funds "
  withdrawer: Bytes!

  " Address the depositor was delegated to at the time of creating the queued withdrawal "
  delegatedTo: Bytes!

  " Hash of the input data for the withdrawal "
  withdrawalRoot: Bytes!

  " Withdrawal's unique identifier "
  nonce: BigInt!

  " Pool that been withdrawn from "
  pool: Pool!

  " Pool token "
  token: Token!

  " Shares of pool queued for withdrawal "
  shares: BigInt!

  " Amount of tokens withdrawn "
  amount: BigInt!

  " Amount withdrawn in USD "
  amountUSD: BigDecimal!

  " Transaction hash of the transaction that completed the withdrawal "
  hashCompleted: Bytes!

  " Is the queued withdrawal completed "
  completed: Boolean!

  " Block number of this event "
  blockNumber: BigInt!

  " Timestamp of this event "
  timestamp: BigInt!
}

###########################
##### User-Level Data #####
###########################

type Account @entity @regularPolling {
  " Address of this account "
  id: Bytes!

  " All pools this account has restaked in. "
  pools: [Pool!]!

  " Value restaked by this account in each pool. The ordering should be the same as the pool's id. "
  poolBalances: [BigInt!]!
  poolBalancesUSD: [BigDecimal!]!

  " All deposit events for this account. "
  deposits: [Deposit!]!

  " All withdraw events for this account. "
  withdrawsQueued: [Withdraw!]!
  withdrawsCompleted: [Withdraw!]!

  " Helper field to calculate pool.cumulativeUniqueWithdrawers. "
  _hasWithdrawnFromPool: [Boolean!]!
}

# Helper entity for calculating daily/hourly active users
type ActiveAccount @entity @regularPolling {
  " {daily/hourly}-{ Days since Unix epoch }-{ Address of the account } "
  id: Bytes!

  " All deposit events for this account. "
  deposits: [Deposit!]!

  " All withdraw events for this account. "
  withdraws: [Withdraw!]!
}
